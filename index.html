<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Wavefont Demo</title>
<link rel="stylesheet" href="https://unpkg.com/modern-normalize@1.0.0/modern-normalize.css"/>
<link rel="stylesheet" href="./css.css"/>

<form id="panel" action="https://github.com/a-vis/wavefont/raw/master/font/wavefont.otf">
<div class="panel-content">
<h1>
Wavefont&thinsp;<sup><small><a title="github" href="https://github.com/a-vis/wavefont">2.0</a></small></sup>
</h1>
<div class="panel-field">
  <label for="width">Width</label> <input id="width" type="range" min="0" value="1.6" step="0.01" max="4"/>
  <output id="widthValue">5.0</output>
</div>
<div class="panel-field">
  <label for="align">Align</label> <input id="align" type="range" min="0" value=".5" max="1" step="0.1"/>
  <output id="alignValue">0.5</output>
</div>
<div class="panel-field">
  <label for="size">Size</label> <input id="size" type="range" min="5" value="48" max="200" step="1"/>
  <output id="sizeValue">50px</output>
</div>
<div class="panel-cta"><button type="submit">Download font <span style="opacity: .5; font-size: .95em">(11&nbsp;kB)</span> â¤“</button></div>
</div>
<script>
  width.oninput = e => {
    let value = Math.exp(+width.value);
    width.title = `'wdth' ${value}`;
    widthValue.textContent = (+value).toPrecision(2);
    wavearea.style.setProperty('--wdth', value)
  }
  align.oninput = e => {
    let value = +align.value;
    align.title = `'algn' ${value}`;
    alignValue.textContent = value;
    wavearea.style.setProperty('--algn', value)
  }
  size.oninput = e => {
    let value = +size.value;
    size.title = value;
    sizeValue.textContent = value + 'px';
    wavearea.style.setProperty('--size', value + 'px')
  }
</script>
</form>

<textarea id="wavearea" class="wavefont" spellcheck="false">&#x0100;&#x0102;&#x0110;&#x0120;&#x0130;&#x0140;&#x0150;&#x0160;&#x0170;
</textarea>
<style>
/* #wavearea {
  font-size: 200px;
  font-variation-settings:'wdth' 10, 'algn' .5;
} */
</style>

<script>
function populate(N) {
  return Array(N).fill(0).map((v, i) => Math.floor((Math.sin(i * i / 1e3) * 50 + 50) * Math.abs(Math.sin(i / 100))) ).map(v => !v ? ' ' : String.fromCharCode(0x0100 + v)).join('')
}

wavearea.innerHTML = populate(44100)
</script>
