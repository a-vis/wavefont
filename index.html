<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Wavefont Demo</title>
<link rel="stylesheet" href="https://unpkg.com/modern-normalize@1.0.0/modern-normalize.css"/>
<style>
@font-face {
  font-family: 'wavefont';
  font-style: normal;
  font-display: block;
  font-weight: 900;
  src: url(./font/wavefont.ttf);
  /* src: url(./font/wavefont.otf); */
}
:root {
  font-size: 100%/1.5;
}
.wavefont {
  font-family: wavefont, sans-serif;
  font-size: 48px;
  line-height: 1;
  padding: 0;
  -webkit-font-smoothing: antialiased; /* Chrome, Safari */
  -moz-osx-font-smoothing: grayscale; /* Firefox */
}
#wavearea {
  width: 100vw;
  height: 100vh;
  position: absolute;
  top: 0;
  left: 0;
  resize: none;
  z-index: -1;
  /* cleartype fix */
  letter-spacing: -1px;
  word-break: break-all;
  --wdth: 5;
  --algn: 0.5;
  font-variation-settings: 'wdth' var(--wdth), 'algn' var(--algn);
}
#panel {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
  width: 42ch;
  height: 24ch;
  background: rgba(255,255,255,.95);
  box-shadow: 0 3px 12px -8px black;
  padding: 2rem;
  border-radius: .66rem;
  z-index: 1;
}
#panel h1 {
  margin: 0 0 .33rem;
}
</style>

<form id="panel">
<h1>Wavefont</h1>
<br/>
<label for="width">Width</label> <input id="width" type="range" min="0" value="2.3" step="0.01" max="4"/>
<br/>
<label for="align">Align</label> <input id="align" type="range" min="0" value=".5" max="1" step="0.5"/>
<script>
  width.oninput = e => {
    let value = Math.exp(+width.value);
    width.title = value;
    console.log(value)
    wavearea.style.setProperty('--wdth', value)
  }
  align.oninput = e => {
    let value = +align.value;
    align.title = value;
    wavearea.style.setProperty('--algn', value)
  }
</script>
</form>

<textarea id="wavearea" class="wavefont" spellcheck="false">
&#x0100;&#x0101;&#x0102;&#x0103;&#x0104;&#x0105;&#x0106;&#x0107;
</textarea>

<script>
function populate(N) {
  return Array(N).fill(0).map((v, i) => Math.floor(Math.sin(i * i / 1e3) * 50 + 50)).map(v => !v ? ' ' : String.fromCharCode(0x0100 + v)).join('')
}

wavearea.innerHTML = populate(44100)
</script>

<a style="position:absolute;right:0;top:0;" href="https://github.com/audio-lab/wavefont"><img loading="lazy" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
